Если не нужно дожидаться, пока завершится выполнение асинхронной операции, ее можно отменить по истечении определенного периода времени с помощью метода CancellationTokenSource.CancelAfter. Этот метод планирует отмену всех связанных задач, не завершенных в течение времени, установленного выражением CancelAfter.

В этом примере добавляется код, составленный в разделе Отмена списка задач (C#), для загрузки списка веб-сайтов и отображения длины содержимого каждого из них.

Темы, рассматриваемые в этом руководстве:

    Обновление существующего консольного приложения .NET
    Планирование отмены

Необходимые компоненты

Для работы с данным учебником требуется следующее:

    Предполагается, что вы создали приложение в учебнике Отмена списка задач (C#).
    Пакет SDK для .NET 5 или более поздней версии
    Интегрированная среда разработки (IDE)
        Мы рекомендуем Visual Studio или Visual Studio Code

Обновление точки входа приложения

Замените существующий метод Main следующим кодом.